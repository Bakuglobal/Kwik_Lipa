<ion-header style="background-color: #3880ff">
  <ion-toolbar color="primary" >
      <ion-buttons slot="start">
          <ion-button (click)="back()">
            <ion-icon name="arrow-round-back"></ion-icon>
            
          </ion-button>
      </ion-buttons>
      <ion-buttons slot="end">
        <ion-button (click)="sendCart()" >
          <ion-icon size="large" name="cart"></ion-icon>
          <ion-badge color="light">{{count}}</ion-badge>
        </ion-button>
      </ion-buttons>
    <ion-title class="shopname">{{shopSelected}}</ion-title>
   
  </ion-toolbar>
 
</ion-header>

  <ion-content >
    <ion-item class="top">
      <span *ngIf="!showSearch">Pick Pay and Collect</span>
      <ion-searchbar placeholder="Enter product name" *ngIf="showSearch" [(ngModel)]="searchTerm" (ionChange)="setFilteredItems()"></ion-searchbar>
      <ion-icon name="search" slot="end" (click)="showSearchBar()"></ion-icon>
    </ion-item>

   

    <div style="text-align: center;margin-top: 40%;" *ngIf="shopSelected != 'Kakila Organic'" >
      <ion-label>Sorry</ion-label><br>
      <ion-label>This shop does not offer the Pick pay and collect service</ion-label>
    </div>


    <div class="loader" *ngIf="showLoader">
      <ion-spinner></ion-spinner>
    </div>

    <div *ngIf="offers.length > 0">
    <ion-grid>
      <ion-row>
        <ion-col size="6" *ngFor="let item of offers">
          <ion-card class="image-position" class="card-radius" > 
            <ion-card-header >
              <img class="image" src="{{item.image}}" (click)="viewProduct(item)"><hr>
              <ion-card-subtitle><b>{{item.product}} {{item.quantity}}</b></ion-card-subtitle>
                <ion-card-subtitle>Kshs: {{item.currentprice}} <small style="color: #fc4e4e;"><s>Kshs: {{item.initialprice}}</s></small></ion-card-subtitle>
                <ion-button expand="full" color="primary" style="margin-top: 5%;" (click)="addToCart(item)">
                    <ion-icon slot="start" name="cart"></ion-icon>
                    Add to cart
                </ion-button>
            </ion-card-header>
          </ion-card>
        </ion-col>
      </ion-row>  
    </ion-grid>
      
    </div>

</ion-content>
