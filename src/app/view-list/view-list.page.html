<ion-content color="light">
  <div padding style="margin-top: 20px;">
    <ion-buttons>
      <ion-button fill="clear" (click)="close()" slot="start">
        <ion-icon name="arrow-back" ></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons>
      <ion-title color="primary" style="text-align: center;font-size: 1.2em;">{{Title}}</ion-title>
      <ion-icon name="add" class="edit" slot="end" (click)="addItem()"></ion-icon>
    </ion-buttons>
  </div>
  <div class="body">
    <div class="members" padding>
      <ion-label>Sharing with</ion-label>
      <ion-row > 
        <ion-col size="9" >
          <ion-chip *ngFor="let item of members" >
            <ion-label>{{item.firstName}}</ion-label>
            <ion-icon name="close" (click)="removeMember(members.indexOf(item))"></ion-icon>
          </ion-chip >
        </ion-col>
        <ion-col size="3" >
          <ion-icon  name="contacts" style="float: right;padding-top: 5px;" size="large" color="primary" (click)="addMember()"></ion-icon>
        </ion-col>
      </ion-row>
    </div>
    <ion-item>
      <ion-col padding>
        Items 
      </ion-col>
      <ion-col></ion-col>
      <ion-col></ion-col>
      <ion-col style="float: right;" (click)="deleteList()">
        <ion-icon name="trash" color="primary"></ion-icon>
        Delete
      </ion-col>
    </ion-item>
    <!-- LIST ITEMS -->
    <div *ngIf="!edit">
    <ion-card *ngFor="let item of Items" >
      <ion-item>
        <ion-col size="3">
         <ion-avatar> <img src="{{item.image}}"></ion-avatar>
        </ion-col>
        <ion-col>
          <ion-label>{{item.item}}</ion-label>
        </ion-col>
        <ion-col size="4" text-center >
          <ion-card style="border-radius: 20px;width: 98%;" >
            <ion-item no-padding>
              <ion-col>
                <ion-icon name="remove" (click)="reduce(Items.indexOf(item))"></ion-icon>
              </ion-col>&nbsp;
              <ion-col>
                <ion-label><b>{{item.count}} </b></ion-label>
              </ion-col>
              <ion-col>
                <ion-icon name="add" (click)="add(Items.indexOf(item))"></ion-icon>
              </ion-col>
            </ion-item>
          </ion-card>
        </ion-col>
      </ion-item>
    </ion-card>
  </div>
  <!-- ADD NEW ITEMS -->
    <div *ngIf="edit">
      <ion-icon name="close" (click)="edit = false" size="large"></ion-icon>
      <ion-label style="text-align: center;" color="dark">{{label}}</ion-label>
      <ion-item>
        <ion-input clearInput type="text" placeholder="{{placeholder}}" [(ngModel)]="searchTerm" required (ionChange)="suggestList()"></ion-input>
        <ion-icon name="person" slot="end" (click)="myContacts()" color="primary"></ion-icon>
      </ion-item>
      <div *ngIf="placeholder ==  'Enter phone number '">
        <ion-row>
          <ion-chip *ngFor="let item of users" (click)="addMembersToList(item); userSuggestion = false">
            <ion-label>{{item.firstName}}&nbsp;{{item.lastName}}</ion-label>
            <ion-label>{{item.phone}}</ion-label>
          </ion-chip>
        </ion-row>
      </div>
      <div *ngIf="placeholder ==  'Enter what you want to buy'">
        <ion-item *ngFor="let item of newItems" text-center padding (click)="addItemToList(item)">
          <ion-col>
            <ion-avatar><img src="{{item.image}}"></ion-avatar>
          </ion-col>
          <ion-col>
            {{item.item}}
          </ion-col>
        </ion-item>
      </div>

    </div>
    
  </div>
</ion-content>
<ion-footer>
  <ion-item >
    <ion-col>
      <ion-label class="estimate">Total items</ion-label><br>
      Kshs<span style="font-weight: bold;font-size: 1.4em;"> {{totaItems}}</span>
    </ion-col>
    <ion-col>
      <ion-card style="border-radius: 20px;text-align: center;"padding color="danger">
        <ion-label text-center>Shop Now</ion-label>
      </ion-card>
    </ion-col>
  </ion-item>
</ion-footer>