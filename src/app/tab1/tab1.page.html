<ion-header style="background-color: #3880ff;" *ngIf="!selectShop" > 
    <ion-toolbar color="primary" >
        <ion-buttons slot="start">
            <ion-menu-button autoHide="false" ></ion-menu-button>
        </ion-buttons>

        <ion-title >Home</ion-title>

        <ion-buttons slot="end" (click)="notifications()" style="padding-right: 5px;">
            <ion-icon size="large" name="notifications" ></ion-icon><br>
            <ion-badge color="danger"><div *ngIf="count != 0">{{count}}</div></ion-badge>
        </ion-buttons>

    </ion-toolbar>
</ion-header>


<ion-content [scrollEvents]="true" (ionScroll)="onScroll($event)">

    <!-- MAIN  MENU -->
    <div *ngIf="!selectShop"> 
                <ion-row class="main-menu">
                    <ion-col size="4" (click)="scanAndPay()">
                        <ion-avatar>
                            <img class="avatar-img" src="/assets/images/scan.svg">
                        </ion-avatar>
                        <h2>Scan & Pay</h2>
                    </ion-col>

                    <ion-col size="4" (click)="pickPayCollect()">
                        <ion-avatar>
                            <img class="avatar-img" src="/assets/images/pay.svg">
                        </ion-avatar>
                        <h2>Pick, Pay & Collect</h2>
                    </ion-col>

                    <ion-col size="4" (click)="shoppingList()">
                        <ion-avatar>
                            <img class="avatar-img" src="/assets/images/shop.svg">
                        </ion-avatar>
                        <h2>Shopping lists</h2>
                    </ion-col>
                </ion-row>


                <!-- SPECIL OFFER -->
                <ion-row class="special-offer">
                    <ion-slides  class="imageContainer" pager="true" [options]="slideOpts" style="border-bottom-color: yellow;">   
                        <ion-slide>
                            <img src="/assets/images/offer1.jpg">
                        </ion-slide>

                        <ion-slide>
                            <img src="/assets/images/offer2.jpg">
                        </ion-slide>
                    </ion-slides>
                </ion-row>



                    <!-- ADVERTS -->
                    <ion-row class="advert">
                        <ion-slides  class="imageContainer" pager="true" [options]="slideOpts">   
                            <ion-slide>
                                <img src="/assets/images/images.jpg">
                            </ion-slide>

                            <ion-slide>
                                <img src="/assets/images/images1.jpg">
                            </ion-slide>
                        </ion-slides>
                    </ion-row><br><br>

</div>




             <!-- SHOW SHOP TO SELECT FROM -->

<div *ngIf="selectShop">
                    <!-- Banner at the top -->
                        <ion-header style="background-color: #3880ff;position: sticky" > 
                            <ion-toolbar color="primary" >
                                <ion-buttons slot="start" (click)="back()">
                                    <ion-icon name="arrow-back" size="large"></ion-icon>
                                </ion-buttons>
                                <ion-title text-center *ngIf="!showSearch"><span style="text-transform: uppercase ;font-size: .7em;padding-top: 5px">Select a shop</span></ion-title>
                                <ion-searchbar *ngIf="showSearch" [(ngModel)]="searchTerm" (ionChange)="setFilteredItems()" placeholder="Enter shop name"></ion-searchbar>
                                <ion-buttons slot="end">
                                    <ion-button (click)="show()">
                                        <ion-icon name="search" size="large"></ion-icon>
                                    </ion-button>
                                </ion-buttons>
                            </ion-toolbar>
                        </ion-header>

                  
                  
                        <!---   DISPLAY SKELETON WHEN LOADING OR INTERNET IS SLOW-->
                        <ion-grid   *ngIf="!shops">
                            <ion-row >
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            <ion-col size="6" >
                                <div  class="partion" >
                                    <ion-skeleton-text  class="skeleton" animated></ion-skeleton-text>
                                </div>
                            </ion-col>
                            </ion-row>
                        </ion-grid>
                        
                        <div style="text-align: center;" *ngIf="!shops">
                            <ion-spinner name="circles"></ion-spinner><br>
                        </div>
                            
                        
                    
                    <!-- List of shops  -->

                    <ion-grid  padding >
                        <ion-row>
                        <ion-col size="6" *ngFor="let shop of shops" (click)="goToShop(shop)">
                            
                            <div class="partion" >
                            <img src="{{shop.file}}" class="shop-img">
                            <h5 class="shops-title" style="text-transform: uppercase">{{shop.name}} </h5>
                            </div>
                        </ion-col>
                        </ion-row>
                    </ion-grid>

</div>
</ion-content>
