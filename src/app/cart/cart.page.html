<ion-header style="background-color: #3880ff">
  <ion-toolbar color="primary" >
      <ion-buttons slot="start">
          <ion-button (click)="back()">
            <ion-icon name="arrow-round-back"></ion-icon>
            
          </ion-button>
      </ion-buttons>
     
    <ion-title class="shopname">{{shopSelected}}</ion-title>
   
  </ion-toolbar>
 
</ion-header>
<ion-content>
  <!-- Shows when the cart is empty -->
      <div *ngIf="cart.length == 0" class="empty">
        <ion-label>Your cart is Empty</ion-label><br><br><br>
        <ion-button (click)="back()" shape="round">Continue shopping</ion-button>
      </div>
  <!-- Shows when the order is sent -->
      <ion-card padding class="successful" *ngIf="Ordersuccess">
        <ion-card-header>
          <ion-icon color="primary" name="checkmark-circle-outline"></ion-icon>&nbsp;&nbsp;
          <ion-label style="color: green;"><b>Order Sent Successful</b></ion-label>
        </ion-card-header>
        <ion-card-content>
          <ion-text>You can follow the progress of your order in  My Orders page.</ion-text><br>
          <ion-button expand="full" (click)="myorders()" fill="clear">My Orders</ion-button>
        </ion-card-content>

      </ion-card>
  <!-- Shows items in the cart and there total  -->
      <div *ngIf="!Ordersuccess">
        <ion-item *ngFor="let item of cart" >
          <ion-col >
            <img class="img" src="{{item.image}}">
          </ion-col>
          <ion-col  class="details" size="6">
            <ion-label style="color:red;text-transform:capitalize;" (click)="remove(cart.indexOf(item))">Remove</ion-label><br>
            <ion-label >{{item.product}} &nbsp; {{item.quantity}}</ion-label><br>
            <ion-label >Kshs. <b>{{item.currentprice}}</b></ion-label>
          </ion-col >
          <ion-col size="4">
         
          <ion-card style="border-radius: 20px;width: 100%;" >
            <ion-item>
            <ion-col> <ion-icon name="remove" (click)="reduce(cart.indexOf(item))" ></ion-icon></ion-col>&nbsp;
            <ion-col><ion-label><b>{{item.count}} </b></ion-label> </ion-col>
           <ion-col><ion-icon name="add" (click)="add(cart.indexOf(item))"></ion-icon></ion-col>
          </ion-item>
          </ion-card>
          </ion-col>
        </ion-item>
    
      </div>
  <!-- Pick up time section-->
          <div padding *ngIf="cart.length != 0;"> 
              <form #time=ngForm>
                  <ion-label color="primary" style="font-size: large;">Choose a Pickup Time</ion-label>
                  <ion-row>
                    <ion-col>
                    <ion-select name="pickTime" [(ngModel)]="pickHour"  Placeholder="Hour" required style="width: 100%;">
                      <ion-select-option *ngFor="let time of hour">{{time}}</ion-select-option>
                    </ion-select>
                  </ion-col>
                  <ion-col>
                    <ion-select name="pickTime" [(ngModel)]="pickMinute"  Placeholder="Mins" required>
                      <ion-select-option *ngFor="let time of minute">{{time}}</ion-select-option>
                    </ion-select>
                  </ion-col>
                  <ion-col >
                    <ion-select name="pickTime" [(ngModel)]="pickDay" Placeholder="Day" required>
                      <ion-select-option *ngFor="let time of Days" >{{time}}</ion-select-option>
                    </ion-select>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-label color="primary">Notes</ion-label><br><br>
                  <ion-textarea name="notes" [(ngModel)]="notes" placeholder="Add notes for this order eg. Ripe, packed etc" ></ion-textarea>
                </ion-row>
                <ion-row>
                  <ion-label color="primary">Delivery Option</ion-label><br><br><br><br>
                  <ion-select name="delivery" placeholder="select delivery" [(ngModel)]="delivery">
                    <ion-select-option>Deliver it to me</ion-select-option>
                    <ion-select-option selected>I'll pick it</ion-select-option>
                  </ion-select>
                </ion-row>
            </form>
          </div>
</ion-content>
<ion-footer *ngIf="cart.length != 0;">
  <ion-toolbar color="primary" style="height: 40px;border-radius: 5px;">
    <ion-buttons slot="start" style="padding-bottom: 15px;">Total : </ion-buttons>
    <ion-buttons class="price-slot" slot="end" style="padding-bottom: 15px;">
        KES &nbsp;<span style="font-size: medium;font-weight: bolder;"> {{getTotalCart() | number:'1.1-5'}} </span>
    </ion-buttons>
</ion-toolbar>
<ion-button  expand="full" shape="round"style="height: 40px;border-radius: 5px;" (click)="sendOrder()" >
 Place Order
</ion-button>
</ion-footer>
